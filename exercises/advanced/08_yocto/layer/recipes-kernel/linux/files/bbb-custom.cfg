# Linux kernel configuration append for BeagleBone Black
#
# This file appends configuration to the default kernel
# Place in meta-bbb-custom/recipes-kernel/linux/files/
#
# Reference from linux-yocto_%.bbappend

# GPIO support
CONFIG_GPIO_SYSFS=y
CONFIG_GPIO_CDEV=y
CONFIG_GPIO_CDEV_V1=y

# PWM support
CONFIG_PWM=y
CONFIG_PWM_SYSFS=y
CONFIG_PWM_OMAP_DMTIMER=y

# I2C support
CONFIG_I2C_CHARDEV=y
CONFIG_I2C_OMAP=y

# SPI support
CONFIG_SPI_OMAP24XX=y
CONFIG_SPI_SPIDEV=y

# ADC (for analog inputs)
CONFIG_TI_AM335X_ADC=y
CONFIG_IIO=y
CONFIG_IIO_BUFFER=y

# CAN bus (if needed)
CONFIG_CAN=y
CONFIG_CAN_RAW=y
CONFIG_CAN_C_CAN=y
CONFIG_CAN_C_CAN_PLATFORM=y

# USB gadget (for USB device mode)
CONFIG_USB_GADGET=y
CONFIG_USB_CONFIGFS=y
CONFIG_USB_CONFIGFS_RNDIS=y

# PRUSS (for PRU support)
CONFIG_REMOTEPROC=y
CONFIG_PRUSS=y
CONFIG_PRU_REMOTEPROC=y
